import {format,transports,createLogger}from'winston';import'winston-daily-rotate-file';var m=(o=>(o.RESET="\x1B[0m",o.FAINT="\x1B[2m",o.RED="\x1B[31m",o.GREEN="\x1B[32m",o.YELLOW="\x1B[33m",o.BLUE="\x1B[34m",o.MAGENTA="\x1B[35m",o.BOLD_RED="\x1B[1;31m",o))(m||{}),s=(e,t)=>`${t}${e}\x1B[0m`;var a=format.combine(format.timestamp(),format(e=>(e.level=e.level.toUpperCase().padStart(7),e))()),p=new transports.Console({format:format.combine(a,format.colorize(),format.printf(e=>{let t=e.message;return [s(e.timestamp,"\x1B[2m"),e.level,s(`[${t.ip??t.socket.remoteAddress??"unknown"}]`,"\x1B[35m"),s(t.method,"\x1B[33m"),t.path].join(" ")}))}),i=new transports.DailyRotateFile({format:format.combine(a,format.printf(e=>{let t=e.message;return [e.timestamp,e.level,`[${t.ip??t.socket.remoteAddress??"unknown"}]`,t.method,t.path].join(" ")})),auditFile:"logs/.audit",filename:"logs/%DATE%.log",maxFiles:"28d"}),d=createLogger({level:"debug",transports:[p,i],handleExceptions:true,handleRejections:true});export{m as ANSI,s as colorize,d as logger};